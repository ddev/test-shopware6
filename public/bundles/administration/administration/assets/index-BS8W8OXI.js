const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BhnMvt6y.js","assets/channel-DB_OaefQ.js","assets/main-FjIbc34h.js","assets/administration-boSmrxN-.js","assets/administration-BrEEjA-6.css","assets/main-nbn0NAVs.css","assets/permissions-Cb6wGjLU.js","assets/index-ZX4AzzbJ.css","assets/index-YErrY3mN.js","assets/index-XikFSKZq.css","assets/index-BxkYxlxg.js","assets/index-rFp0IcAg.css"])))=>i.map(i=>d[i]);
var o=Object.defineProperty;var a=(i,e,s)=>e in i?o(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var n=(i,e,s)=>a(i,typeof e!="symbol"?e+"":e,s);import{_ as r}from"./administration-boSmrxN-.js";import{A as c}from"./api.service-C8jZavFF.js";import"./channel-DB_OaefQ.js";class p extends c{constructor(e,s,t){super(e,s,"service","application/json"),this.systemConfigService=t,this.name="ShopwareServices"}getInstalledServices(){let e=Shopware.Store.get("session").languageId;e||(e=Shopware.Context.api.languageId);const s={"sw-language-id":e};return this.httpClient.get("service/list",{headers:this.getBasicHeaders(s)}).then(t=>t.data)}async getServicesContext(){const e=await this.systemConfigService.getValues("core.services");return{disabled:e["core.services.disabled"],permissionsConsent:typeof e["core.services.permissionsConsent"]=="string"?JSON.parse(e["core.services.permissionsConsent"]):void 0}}acceptRevision(e){return this.httpClient.post(`services/permissions/grant/${e}`,{},{headers:this.getBasicHeaders()})}revokePermissions(){return this.httpClient.post("services/permissions/revoke",{},{headers:this.getBasicHeaders()})}enableAllServices(){return this.httpClient.post("services/enable",{},{headers:this.getBasicHeaders()}).then(()=>this.getServicesContext())}disableAllServices(){return this.httpClient.post("services/disable",{},{headers:this.getBasicHeaders()})}getCategorizedPermissions(e){return this.httpClient.get(`services/categorized-permissions/${e}`,{headers:this.getBasicHeaders()}).then(s=>s.data??{})}}class g{constructor(e){n(this,"registryUrl");this.registryUrl=e}async getCurrentRevision(e){const t=await(await fetch(new URL("/api/service/permission-revisions",this.registryUrl),{method:"GET",headers:{Accept:"application/json","Accept-Language":e},mode:"cors"})).json();return this.assertIsRevisionResponse(t),t.revisions}assertIsRevisionResponse(e){if(typeof e!="object"||e===null||!("revisions"in e))throw new Error("Could not fetch Revision data from Service Registry")}}Shopware.Service().register("shopwareServicesService",()=>new p(Shopware.Application.getContainer("init").httpClient,Shopware.Service("loginService"),Shopware.Service("systemConfigApiService")));Shopware.Service().register("serviceRegistryClient",()=>new g(Shopware.Context.api.serviceRegistryUrl));Shopware.Component.register("sw-settings-services-index",()=>r(()=>import("./index-BhnMvt6y.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])));Shopware.Component.register("sw-settings-services-dashboard-banner",()=>r(()=>import("./index-YErrY3mN.js"),__vite__mapDeps([8,9])));Shopware.Component.register("sw-settings-services-grant-permissions-modal",()=>r(()=>import("./index-BxkYxlxg.js"),__vite__mapDeps([10,2,1,3,4,5,6,11])));Shopware.Module.register("sw-settings-services",{type:"core",name:"services",title:"sw-settings-services.general.title",description:"sw-settings-services.general.description",color:"#9AA8B5",icon:"regular-cog",favicon:"icon-module-settings.png",entity:"store_settings",routes:{index:{component:"sw-settings-services-index",path:"index",meta:{parentPath:"sw.settings.index.system",privilege:"system.plugin_maintain"}}},settingsItem:{group:"system",to:"sw.settings.services.index",icon:"regular-view-grid",privilege:"system.plugin_maintain"}});
