const l=`{% block sw_flow_list_flow_templates %} <mt-card class="sw-flow-list-flow-templates-card" position-identifier="sw-flow-list-flow-templates-card" > <div class="sw-flow-list-my-templates"> <div class="sw-flow-list-my-templates__content"> <sw-entity-listing v-if="total" class="sw-flow-list-my-templates__grid" :show-settings="false" :allow-column-edit="false" :allow-view="false" :allow-edit="false" :allow-delete="false" :allow-bulk-edit="false" :columns="flowTemplateColumns" :sort-by="sortBy" :sort-direction="sortDirection" :repository="flowTemplateRepository" :items="flowTemplates" :is-loading="isLoading" :full-page="false" :show-selection="false" :show-actions="false" :plain-appearance="true" @column-sort="onSortColumn" @page-change="onPageChange" > <template #column-name="{ item }"> <a class="sw-flow-list-my-flows__content__update-flow-template-link" role="link" tabindex="0" @click="onEditFlow(item)" @keydown.enter="onEditFlow(item)" > {{ item.name }} </a> </template> <template #column-createFlow="{ item }"> <sw-internal-link :router-link="{ name: 'sw.flow.create', params: { flowTemplateId: item.id }}" :disabled="!acl.can('flow.creator')" class="sw-flow-list-my-flows__content__create-flow-link" > {{ $tc('sw-flow.template.create') }} </sw-internal-link> </template> </sw-entity-listing> <mt-empty-state v-else class="sw-flow-list-my_templates__empty-state" :icon="$route.meta.$module.icon" :headline="$tc('sw-flow.list.emptyStateTitle')" :description="$tc('sw-flow.list.emptyStateSubTitle')" /> </div> </div> </mt-card> {% endblock %}`,{Mixin:a,Data:{Criteria:t}}=Shopware,s=Shopware.Component.wrapComponentConfig({template:l,inject:["acl","repositoryFactory"],mixins:[a.getByName("listing")],props:{searchTerm:{type:String,required:!1,default:""}},data(){return{sortBy:"createdAt",sortDirection:"DESC",total:0,isLoading:!1,flowTemplates:[]}},metaInfo(){return{title:this.$createTitle()}},computed:{flowTemplateRepository(){return this.repositoryFactory.create("flow_template")},flowTemplateCriteria(){const e=new t(1,25);return this.searchTerm&&e.setTerm(this.searchTerm),e.addSorting(t.sort(this.sortBy,this.sortDirection)).addSorting(t.sort("updatedAt","DESC")),e},flowTemplateColumns(){return[{property:"name",dataIndex:"name",label:this.$tc("sw-flow.list.labelColumnName"),allowResize:!1,align:"left"},{property:"config.description",label:this.$tc("sw-flow.list.labelColumnDescription"),allowResize:!1,sortable:!1,align:"left"},{property:"createFlow",label:"",allowResize:!1,sortable:!1,align:"right"}]},assetFilter(){return Shopware.Filter.getByName("asset")}},watch:{searchTerm:{immediate:!0,handler(e){this.onSearch(e)}}},created(){this.createComponent()},methods:{createComponent(){this.getList()},getList(){this.isLoading=!0,this.flowTemplateRepository.search(this.flowTemplateCriteria).then(e=>{this.total=e.total,this.flowTemplates=e}).finally(()=>{this.isLoading=!1})},onEditFlow(e){e!=null&&e.id&&this.$router.push({name:"sw.flow.detail",params:{id:e.id},query:{type:"template"}})}}});export{s as default};
